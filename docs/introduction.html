<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Introduction | Data Mining</title>
  <meta name="description" content="Chapter 2 Introduction | Data Mining" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Introduction | Data Mining" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Introduction | Data Mining" />
  
  
  

<meta name="author" content="Dr. Susan Simmons" />


<meta name="date" content="2023-09-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="decision-trees.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DataMining</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Data Mining</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#bootstrapping"><i class="fa fa-check"></i><b>2.1</b> Bootstrapping</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction.html"><a href="introduction.html#python-for-bootstrapping"><i class="fa fa-check"></i><b>2.1.1</b> Python for Bootstrapping</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#adjusting-p-values"><i class="fa fa-check"></i><b>2.2</b> Adjusting p-values</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#transaction-data"><i class="fa fa-check"></i><b>2.3</b> Transaction data</a></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#association-analysis"><i class="fa fa-check"></i><b>2.4</b> Association Analysis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="decision-trees.html"><a href="decision-trees.html"><i class="fa fa-check"></i><b>3</b> Decision Trees</a>
<ul>
<li class="chapter" data-level="3.1" data-path="decision-trees.html"><a href="decision-trees.html#classification-trees"><i class="fa fa-check"></i><b>3.1</b> Classification Trees</a></li>
<li class="chapter" data-level="3.2" data-path="decision-trees.html"><a href="decision-trees.html#regression-trees"><i class="fa fa-check"></i><b>3.2</b> Regression Trees</a></li>
<li class="chapter" data-level="3.3" data-path="decision-trees.html"><a href="decision-trees.html#recursive-partitioning-with-partykit"><i class="fa fa-check"></i><b>3.3</b> Recursive partitioning with partykit</a></li>
<li class="chapter" data-level="3.4" data-path="decision-trees.html"><a href="decision-trees.html#model-reliance"><i class="fa fa-check"></i><b>3.4</b> Model Reliance</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>4</b> Clustering</a>
<ul>
<li class="chapter" data-level="4.1" data-path="clustering.html"><a href="clustering.html#kmeans"><i class="fa fa-check"></i><b>4.1</b> Kmeans</a></li>
<li class="chapter" data-level="4.2" data-path="clustering.html"><a href="clustering.html#hierarchical-clustering"><i class="fa fa-check"></i><b>4.2</b> Hierarchical Clustering</a></li>
<li class="chapter" data-level="4.3" data-path="clustering.html"><a href="clustering.html#variable-clustering"><i class="fa fa-check"></i><b>4.3</b> Variable Clustering</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="other-topics.html"><a href="other-topics.html"><i class="fa fa-check"></i><b>5</b> Other Topics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="other-topics.html"><a href="other-topics.html#k-nearest-neighbors"><i class="fa fa-check"></i><b>5.1</b> K-nearest neighbors</a></li>
<li class="chapter" data-level="5.2" data-path="other-topics.html"><a href="other-topics.html#mds"><i class="fa fa-check"></i><b>5.2</b> MDS</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Mining</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Introduction<a href="introduction.html#introduction" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Welcome to your Data Mining code book!! I have provided information in both R and Python for this module (of course, most emphasis is in R…which means you might need to do some extra work in Python for some of these codes). Libraries in R that you will need for this module:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="introduction.html#cb1-1" tabindex="-1"></a><span class="fu">library</span>(datasets)</span>
<span id="cb1-2"><a href="introduction.html#cb1-2" tabindex="-1"></a><span class="fu">library</span>(arules)</span>
<span id="cb1-3"><a href="introduction.html#cb1-3" tabindex="-1"></a><span class="fu">library</span>(arulesViz)</span>
<span id="cb1-4"><a href="introduction.html#cb1-4" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-5"><a href="introduction.html#cb1-5" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-6"><a href="introduction.html#cb1-6" tabindex="-1"></a><span class="fu">library</span>(rpart)</span>
<span id="cb1-7"><a href="introduction.html#cb1-7" tabindex="-1"></a><span class="fu">library</span>(rpart.plot)</span>
<span id="cb1-8"><a href="introduction.html#cb1-8" tabindex="-1"></a><span class="fu">library</span>(TH.data)</span>
<span id="cb1-9"><a href="introduction.html#cb1-9" tabindex="-1"></a><span class="fu">library</span>(ISLR2)</span>
<span id="cb1-10"><a href="introduction.html#cb1-10" tabindex="-1"></a><span class="fu">library</span>(lattice)</span>
<span id="cb1-11"><a href="introduction.html#cb1-11" tabindex="-1"></a><span class="fu">library</span>(stats)</span>
<span id="cb1-12"><a href="introduction.html#cb1-12" tabindex="-1"></a><span class="fu">library</span>(rattle)</span>
<span id="cb1-13"><a href="introduction.html#cb1-13" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb1-14"><a href="introduction.html#cb1-14" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb1-15"><a href="introduction.html#cb1-15" tabindex="-1"></a><span class="fu">library</span>(ROCR)</span>
<span id="cb1-16"><a href="introduction.html#cb1-16" tabindex="-1"></a><span class="fu">library</span>(tidyverse)  </span>
<span id="cb1-17"><a href="introduction.html#cb1-17" tabindex="-1"></a><span class="fu">library</span>(cluster)  </span>
<span id="cb1-18"><a href="introduction.html#cb1-18" tabindex="-1"></a><span class="fu">library</span>(factoextra) </span>
<span id="cb1-19"><a href="introduction.html#cb1-19" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb1-20"><a href="introduction.html#cb1-20" tabindex="-1"></a><span class="fu">library</span>(NbClust)</span>
<span id="cb1-21"><a href="introduction.html#cb1-21" tabindex="-1"></a><span class="fu">library</span>(dendextend)</span>
<span id="cb1-22"><a href="introduction.html#cb1-22" tabindex="-1"></a><span class="fu">library</span>(class)</span>
<span id="cb1-23"><a href="introduction.html#cb1-23" tabindex="-1"></a><span class="fu">library</span>(ClustOfVar)</span>
<span id="cb1-24"><a href="introduction.html#cb1-24" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb1-25"><a href="introduction.html#cb1-25" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-26"><a href="introduction.html#cb1-26" tabindex="-1"></a><span class="fu">library</span>(partykit)</span>
<span id="cb1-27"><a href="introduction.html#cb1-27" tabindex="-1"></a><span class="fu">library</span>(dbscan)</span>
<span id="cb1-28"><a href="introduction.html#cb1-28" tabindex="-1"></a><span class="fu">library</span>(AmesHousing)</span>
<span id="cb1-29"><a href="introduction.html#cb1-29" tabindex="-1"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb1-30"><a href="introduction.html#cb1-30" tabindex="-1"></a></span>
<span id="cb1-31"><a href="introduction.html#cb1-31" tabindex="-1"></a><span class="fu">use_python</span>(<span class="st">&quot;C:</span><span class="sc">\\</span><span class="st">ProgramData</span><span class="sc">\\</span><span class="st">Anaconda3</span><span class="sc">\\</span><span class="st">python.exe&quot;</span>)</span>
<span id="cb1-32"><a href="introduction.html#cb1-32" tabindex="-1"></a></span>
<span id="cb1-33"><a href="introduction.html#cb1-33" tabindex="-1"></a><span class="co">#library(knitr)</span></span></code></pre></div>
<p>Also, be sure to load the following data sets:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="introduction.html#cb2-1" tabindex="-1"></a>check<span class="ot">=</span><span class="fu">read.table</span>(<span class="st">&quot;Q:</span><span class="sc">\\</span><span class="st">My Drive</span><span class="sc">\\</span><span class="st">Data Mining</span><span class="sc">\\</span><span class="st">Data</span><span class="sc">\\</span><span class="st">Checking.csv&quot;</span>,<span class="at">sep=</span><span class="st">&#39;,&#39;</span>,<span class="at">header=</span>T)</span>
<span id="cb2-2"><a href="introduction.html#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="introduction.html#cb2-3" tabindex="-1"></a>temp.dat<span class="ot">=</span><span class="fu">read.table</span>(<span class="st">&quot;Q:</span><span class="sc">\\</span><span class="st">My Drive</span><span class="sc">\\</span><span class="st">Data Mining</span><span class="sc">\\</span><span class="st">Data</span><span class="sc">\\</span><span class="st">Grocery1.csv&quot;</span>,<span class="at">sep=</span><span class="st">&#39;,&#39;</span>,<span class="at">header=</span>T)</span>
<span id="cb2-4"><a href="introduction.html#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="introduction.html#cb2-5" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;Q:</span><span class="sc">\\</span><span class="st">My Drive</span><span class="sc">\\</span><span class="st">Data Mining</span><span class="sc">\\</span><span class="st">Data</span><span class="sc">\\</span><span class="st">breast_cancer.Rdata&quot;</span>)</span>
<span id="cb2-6"><a href="introduction.html#cb2-6" tabindex="-1"></a></span>
<span id="cb2-7"><a href="introduction.html#cb2-7" tabindex="-1"></a>ames <span class="ot">&lt;-</span> <span class="fu">make_ordinal_ames</span>() </span></code></pre></div>
<div id="bootstrapping" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Bootstrapping<a href="introduction.html#bootstrapping" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Bootstrapping is a nonparametric tool that can be used to estimate variability about a statistic, create confidence intervals and perform hypothesis testing. The idea is that we use our sample as our population and randomly sample from it (with replacement). We create a whole bunch of samples this way, estimate the statistic of interest and then can use this information for our inference. The first example will estimate the median Carbon Dioxide reading from the Mauna Loa station (this data is an R data set and provides monthly data from 1959 to 1997). We will also calculate a 95% confidence interval for the median.  </p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="introduction.html#cb3-1" tabindex="-1"></a>plot.co2<span class="ot">=</span><span class="fu">cbind.data.frame</span>(co2,<span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">&quot;1959/1/1&quot;</span>),<span class="at">by=</span><span class="st">&quot;month&quot;</span>,<span class="at">length.out=</span><span class="dv">468</span>))</span>
<span id="cb3-2"><a href="introduction.html#cb3-2" tabindex="-1"></a><span class="fu">colnames</span>(plot.co2)[<span class="dv">2</span>]<span class="ot">=</span><span class="st">&quot;Date&quot;</span></span>
<span id="cb3-3"><a href="introduction.html#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="introduction.html#cb3-4" tabindex="-1"></a><span class="do">### Visualize the data</span></span>
<span id="cb3-5"><a href="introduction.html#cb3-5" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>plot.co2,<span class="fu">aes</span>(<span class="at">x=</span>Date,<span class="at">y=</span>co2))<span class="sc">+</span><span class="fu">geom_line</span>()</span>
<span id="cb3-6"><a href="introduction.html#cb3-6" tabindex="-1"></a><span class="do">## Don&#39;t know how to automatically pick scale for object of type &lt;ts&gt;. Defaulting</span></span>
<span id="cb3-7"><a href="introduction.html#cb3-7" tabindex="-1"></a><span class="do">## to continuous.</span></span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/bootstrap%20confidence%20interval-1.png" width="672" /></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="introduction.html#cb4-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>plot.co2,<span class="fu">aes</span>(<span class="at">x=</span>co2))<span class="sc">+</span><span class="fu">geom_histogram</span>()</span>
<span id="cb4-2"><a href="introduction.html#cb4-2" tabindex="-1"></a><span class="do">## Don&#39;t know how to automatically pick scale for object of type &lt;ts&gt;. Defaulting</span></span>
<span id="cb4-3"><a href="introduction.html#cb4-3" tabindex="-1"></a><span class="do">## to continuous.</span></span>
<span id="cb4-4"><a href="introduction.html#cb4-4" tabindex="-1"></a><span class="do">## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/bootstrap%20confidence%20interval-2.png" width="672" /></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="introduction.html#cb5-1" tabindex="-1"></a></span>
<span id="cb5-2"><a href="introduction.html#cb5-2" tabindex="-1"></a><span class="do">## Actual median of the data set</span></span>
<span id="cb5-3"><a href="introduction.html#cb5-3" tabindex="-1"></a>act.med<span class="ot">=</span><span class="fu">median</span>(co2)</span>
<span id="cb5-4"><a href="introduction.html#cb5-4" tabindex="-1"></a><span class="do">### Initialize the vector to run the bootstrap algorithm</span></span>
<span id="cb5-5"><a href="introduction.html#cb5-5" tabindex="-1"></a>boot.med<span class="ot">=</span><span class="fu">vector</span>(<span class="at">length=</span><span class="dv">10000</span>)</span>
<span id="cb5-6"><a href="introduction.html#cb5-6" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(boot.med)){</span>
<span id="cb5-7"><a href="introduction.html#cb5-7" tabindex="-1"></a>  boot.samp<span class="ot">=</span><span class="fu">sample</span>(co2,<span class="at">replace=</span>T)</span>
<span id="cb5-8"><a href="introduction.html#cb5-8" tabindex="-1"></a>  boot.med[i]<span class="ot">=</span><span class="fu">median</span>(boot.samp)</span>
<span id="cb5-9"><a href="introduction.html#cb5-9" tabindex="-1"></a>}</span>
<span id="cb5-10"><a href="introduction.html#cb5-10" tabindex="-1"></a><span class="fu">sd</span>(boot.med)</span>
<span id="cb5-11"><a href="introduction.html#cb5-11" tabindex="-1"></a><span class="do">## [1] 1.327341</span></span>
<span id="cb5-12"><a href="introduction.html#cb5-12" tabindex="-1"></a>act.med</span>
<span id="cb5-13"><a href="introduction.html#cb5-13" tabindex="-1"></a><span class="do">## [1] 335.17</span></span>
<span id="cb5-14"><a href="introduction.html#cb5-14" tabindex="-1"></a><span class="fu">quantile</span>(boot.med,<span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.025</span>,<span class="fl">0.975</span>))</span>
<span id="cb5-15"><a href="introduction.html#cb5-15" tabindex="-1"></a><span class="do">##   2.5%  97.5% </span></span>
<span id="cb5-16"><a href="introduction.html#cb5-16" tabindex="-1"></a><span class="do">## 332.75 337.79</span></span>
<span id="cb5-17"><a href="introduction.html#cb5-17" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span><span class="fu">data.frame</span>(boot.med),<span class="fu">aes</span>(<span class="at">x=</span>boot.med))<span class="sc">+</span><span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Bootstrap Sample&quot;</span>,<span class="at">y=</span><span class="st">&quot;Frequency&quot;</span>)</span>
<span id="cb5-18"><a href="introduction.html#cb5-18" tabindex="-1"></a><span class="do">## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/bootstrap%20confidence%20interval-3.png" width="672" />
The second example is exploring if the median price of homes in Iowa with air conditioning is significantly different than the median price of homes in Iowa without air conditioning (this is using the Ames housing data set from summer!). Recall that distributions of Sale Price were NOT normal (for both with and without air conditioning) and the variability of the distributions were very different. We are able to test the hypothesis:</p>
<p><span class="math display">\[H_{0}: Median_{YES} = Median_{NO}\]</span></p>
<p><span class="math display">\[H_{A}: Median_{YES} \neq Median_{NO}\]</span></p>
<p>by creating a confidence interval about the difference $ Median_{YES}-Median_{NO} $.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="introduction.html#cb6-1" tabindex="-1"></a>diff.stat<span class="ot">=</span><span class="fu">vector</span>(<span class="at">length=</span><span class="dv">10000</span>)</span>
<span id="cb6-2"><a href="introduction.html#cb6-2" tabindex="-1"></a>yes<span class="ot">&lt;-</span>ames <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Central_Air<span class="sc">==</span><span class="st">&quot;Y&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Sale_Price)</span>
<span id="cb6-3"><a href="introduction.html#cb6-3" tabindex="-1"></a>no<span class="ot">&lt;-</span>ames <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Central_Air<span class="sc">==</span><span class="st">&quot;N&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Sale_Price)</span>
<span id="cb6-4"><a href="introduction.html#cb6-4" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>){</span>
<span id="cb6-5"><a href="introduction.html#cb6-5" tabindex="-1"></a>  yes.vec <span class="ot">&lt;-</span><span class="fu">median</span>(<span class="fu">sample</span>(yes,<span class="fu">length</span>(yes),<span class="at">replace =</span> T))</span>
<span id="cb6-6"><a href="introduction.html#cb6-6" tabindex="-1"></a>  no.vec <span class="ot">&lt;-</span><span class="fu">median</span>(<span class="fu">sample</span>(no,<span class="fu">length</span>(no),<span class="at">replace =</span> T))</span>
<span id="cb6-7"><a href="introduction.html#cb6-7" tabindex="-1"></a>  diff.stat[i]<span class="ot">&lt;-</span> yes.vec<span class="sc">-</span>no.vec</span>
<span id="cb6-8"><a href="introduction.html#cb6-8" tabindex="-1"></a>}</span>
<span id="cb6-9"><a href="introduction.html#cb6-9" tabindex="-1"></a></span>
<span id="cb6-10"><a href="introduction.html#cb6-10" tabindex="-1"></a></span>
<span id="cb6-11"><a href="introduction.html#cb6-11" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span><span class="fu">data.frame</span>(diff.stat),<span class="fu">aes</span>(<span class="at">x=</span>diff.stat))<span class="sc">+</span><span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="bookdownproj_files/figure-html/bootstrap%20hypothesis%20test-1.png" width="672" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="introduction.html#cb8-1" tabindex="-1"></a><span class="fu">quantile</span>(diff.stat,<span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.005</span>,<span class="fl">0.995</span>))</span></code></pre></div>
<pre><code>##     0.5%    99.5% 
## 58744.78 76840.30</code></pre>
<p>Since the confidence interval does NOT include 0, we would conclude that the medians appear to be significantly different.</p>
<div id="python-for-bootstrapping" class="section level3 hasAnchor" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Python for Bootstrapping<a href="introduction.html#python-for-bootstrapping" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="introduction.html#cb10-1" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span>
<span id="cb10-2"><a href="introduction.html#cb10-2" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb10-3"><a href="introduction.html#cb10-3" tabindex="-1"></a><span class="im">import</span> statistics</span>
<span id="cb10-4"><a href="introduction.html#cb10-4" tabindex="-1"></a><span class="im">from</span> numpy <span class="im">import</span> random</span>
<span id="cb10-5"><a href="introduction.html#cb10-5" tabindex="-1"></a></span>
<span id="cb10-6"><a href="introduction.html#cb10-6" tabindex="-1"></a>co2_py <span class="op">=</span> r.co2</span>
<span id="cb10-7"><a href="introduction.html#cb10-7" tabindex="-1"></a>plt.hist(co2_py)</span></code></pre></div>
<pre><code>## (array([50., 73., 58., 48., 44., 42., 37., 51., 40., 25.]), array([313.18 , 318.546, 323.912, 329.278, 334.644, 340.01 , 345.376,
##        350.742, 356.108, 361.474, 366.84 ]), &lt;BarContainer object of 10 artists&gt;)</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="introduction.html#cb12-1" tabindex="-1"></a>plt.show()</span>
<span id="cb12-2"><a href="introduction.html#cb12-2" tabindex="-1"></a></span>
<span id="cb12-3"><a href="introduction.html#cb12-3" tabindex="-1"></a><span class="co"># Actual median</span></span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="introduction.html#cb13-1" tabindex="-1"></a><span class="bu">print</span>(statistics.median(co2_py))</span>
<span id="cb13-2"><a href="introduction.html#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="introduction.html#cb13-3" tabindex="-1"></a><span class="co"># Bootstrap sample</span></span></code></pre></div>
<pre><code>## 335.17</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="introduction.html#cb15-1" tabindex="-1"></a>n <span class="op">=</span> <span class="bu">len</span>(co2_py)</span>
<span id="cb15-2"><a href="introduction.html#cb15-2" tabindex="-1"></a>temp <span class="op">=</span> []</span>
<span id="cb15-3"><a href="introduction.html#cb15-3" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000</span>):</span>
<span id="cb15-4"><a href="introduction.html#cb15-4" tabindex="-1"></a>  temp.append(statistics.median(random.choice(co2_py,n)))</span>
<span id="cb15-5"><a href="introduction.html#cb15-5" tabindex="-1"></a><span class="co">#temp =statistics.median(random.choice(co2_py,n))</span></span>
<span id="cb15-6"><a href="introduction.html#cb15-6" tabindex="-1"></a></span>
<span id="cb15-7"><a href="introduction.html#cb15-7" tabindex="-1"></a><span class="bu">print</span>(statistics.stdev(temp))</span></code></pre></div>
<pre><code>## 1.3351758780776406</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="introduction.html#cb17-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Lower 95</span><span class="sc">% c</span><span class="st">onfidence interval for median&quot;</span>,np.quantile(temp,<span class="fl">0.025</span>))</span></code></pre></div>
<pre><code>## Lower 95% confidence interval for median 332.75</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="introduction.html#cb19-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Upper 95</span><span class="sc">% c</span><span class="st">onfidence interval for median&quot;</span>,np.quantile(temp,<span class="fl">0.975</span>))</span></code></pre></div>
<pre><code>## Upper 95% confidence interval for median 337.79</code></pre>
</div>
</div>
<div id="adjusting-p-values" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Adjusting p-values<a href="introduction.html#adjusting-p-values" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The package p.adjust will do the Bonferroni adjustment, Benjamini &amp; Hochberg and many other adjustments for p-values when you are conducting a lot of tests! All you need to do is send it a vector of p-values and it will return the adjusted p-values!</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="introduction.html#cb21-1" tabindex="-1"></a></span>
<span id="cb21-2"><a href="introduction.html#cb21-2" tabindex="-1"></a>temp<span class="ot">=</span><span class="fu">c</span>(<span class="fl">0.001</span>,<span class="fl">0.03</span>,<span class="fl">0.2</span>,<span class="fl">0.4</span>)</span>
<span id="cb21-3"><a href="introduction.html#cb21-3" tabindex="-1"></a><span class="co">#Bonferoni</span></span>
<span id="cb21-4"><a href="introduction.html#cb21-4" tabindex="-1"></a><span class="fu">p.adjust</span>(temp,<span class="at">method=</span><span class="st">&quot;bonferroni&quot;</span>)</span>
<span id="cb21-5"><a href="introduction.html#cb21-5" tabindex="-1"></a><span class="do">## [1] 0.004 0.120 0.800 1.000</span></span>
<span id="cb21-6"><a href="introduction.html#cb21-6" tabindex="-1"></a><span class="co">#Benjamini &amp; Hochberg</span></span>
<span id="cb21-7"><a href="introduction.html#cb21-7" tabindex="-1"></a><span class="fu">p.adjust</span>(temp,<span class="at">method=</span><span class="st">&quot;BH&quot;</span>)</span>
<span id="cb21-8"><a href="introduction.html#cb21-8" tabindex="-1"></a><span class="do">## [1] 0.0040000 0.0600000 0.2666667 0.4000000</span></span></code></pre></div>
</div>
<div id="transaction-data" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Transaction data<a href="introduction.html#transaction-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A basic concept you will need is how to deal with transactional data. Trasactional data is usually in the form of a long data set with multiple observation per “ID”. Take for example the following small data set:</p>
<table class=" lightable-paper lightable-striped" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-2">Table 2.1: </span>Example
</caption>
<thead>
<tr>
<th style="text-align:right;">
ID
</th>
<th style="text-align:right;">
Checking
</th>
</tr>
</thead>
<tbody>
<tr grouplength="4">
<td colspan="2" style="border-bottom: 1px solid;">
<strong>Person 1</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
1
</td>
<td style="text-align:right;">
2000
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
1
</td>
<td style="text-align:right;">
500
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
1
</td>
<td style="text-align:right;">
2500
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
1
</td>
<td style="text-align:right;">
5000
</td>
</tr>
<tr grouplength="4">
<td colspan="2" style="border-bottom: 1px solid;">
<strong>Person 2</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
2
</td>
<td style="text-align:right;">
18000
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
2
</td>
<td style="text-align:right;">
10000
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
2
</td>
<td style="text-align:right;">
300
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
2
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr grouplength="3">
<td colspan="2" style="border-bottom: 1px solid;">
<strong>Person 3</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
3
</td>
<td style="text-align:right;">
600
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
3
</td>
<td style="text-align:right;">
200
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
3
</td>
<td style="text-align:right;">
100
</td>
</tr>
</tbody>
</table>
<p>Notice that there are four transactions for Person 1, four transactions for Person 2 (including a missing value) and three transactions for Person 3. We will need to “roll” these up into one observation per person.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="introduction.html#cb22-1" tabindex="-1"></a>new.check <span class="ot">=</span> check <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(ID) <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="introduction.html#cb22-2" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean.check=</span><span class="fu">mean</span>(Checking,<span class="at">na.rm=</span>T),<span class="at">std.check=</span><span class="fu">sd</span>(Checking,<span class="at">na.rm=</span>T))</span></code></pre></div>
<p>It is HIGHLY recommended that you ALWAYS create a flag for missing values (do this BEFORE rolling up). The following code creates the flag for the missing values and then rolls everything up:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="introduction.html#cb23-1" tabindex="-1"></a>check<span class="sc">$</span>flag<span class="ot">=</span><span class="fu">ifelse</span>(<span class="fu">is.na</span>(check<span class="sc">$</span>Checking),<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb23-2"><a href="introduction.html#cb23-2" tabindex="-1"></a></span>
<span id="cb23-3"><a href="introduction.html#cb23-3" tabindex="-1"></a>new.check <span class="ot">=</span> check <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(ID) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="introduction.html#cb23-4" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean.check=</span><span class="fu">mean</span>(Checking,<span class="at">na.rm=</span>T),<span class="at">std.check=</span><span class="fu">sd</span>(Checking,<span class="at">na.rm=</span>T),<span class="at">na.check=</span><span class="fu">sum</span>(flag))</span></code></pre></div>
<table class=" lightable-paper lightable-striped" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-3">Table 2.2: </span>Rolled up
</caption>
<thead>
<tr>
<th style="text-align:right;">
ID
</th>
<th style="text-align:right;">
mean.check
</th>
<th style="text-align:right;">
std.check
</th>
<th style="text-align:right;">
na.check
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2500.000
</td>
<td style="text-align:right;">
1870.8287
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
9433.333
</td>
<td style="text-align:right;">
8863.5960
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
300.000
</td>
<td style="text-align:right;">
264.5751
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
750.000
</td>
<td style="text-align:right;">
212.1320
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
11400.000
</td>
<td style="text-align:right;">
6503.8450
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<div id="association-analysis" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Association Analysis<a href="introduction.html#association-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Association analysis looks for “associations” among items to provide information on which items happen together more frequently. This could be used for marketing purposes to figure out which items should be stocked together; or it could be used in the medical profession to see which co-morbidities happen together. There are many situations in which you are interested in exploring and understanding theses associations!!</p>
<p>Most often, this data presents itself as transactional data. For example, if shopper 1 buys 10 items, you will see this in a data set with 10 lines (representing the 10 items bought) but with the same shopper ID value. Below is a snippet of a small grocery data set.</p>
<table class=" lightable-paper lightable-striped" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:association">Table 2.3: </span>Small grocery data
</caption>
<thead>
<tr>
<th style="text-align:right;">
ID
</th>
<th style="text-align:left;">
Grocery
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
bread
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
egg
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
papaya
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
oat packet
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
papaya
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
bread
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
oat packet
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
milk
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
egg
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
bread
</td>
</tr>
</tbody>
</table>
<p>As you can see, there is a separate line for each item. If we want to analyze this data set with the package ‘arules’, we need the data to be wide (not long). In other words, one line per ID. We can create the wide data set in R by using the following line (and then “inspect” it or view it).</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="introduction.html#cb24-1" tabindex="-1"></a>trans.dat <span class="ot">&lt;-</span> <span class="fu">as</span>(<span class="fu">split</span>(temp.dat<span class="sc">$</span>Grocery, temp.dat<span class="sc">$</span>ID), <span class="st">&quot;transactions&quot;</span>)</span>
<span id="cb24-2"><a href="introduction.html#cb24-2" tabindex="-1"></a><span class="fu">inspect</span>(trans.dat)</span></code></pre></div>
<pre><code>##      items                             transactionID
## [1]  {bread, egg, oat packet, papaya}  1            
## [2]  {bread, milk, oat packet, papaya} 2            
## [3]  {bread, butter, egg}              3            
## [4]  {egg, milk, oat packet}           4            
## [5]  {bread, butter, milk}             5            
## [6]  {milk, papaya}                    6            
## [7]  {bread, butter, papaya}           7            
## [8]  {bread, egg}                      8            
## [9]  {oat packet, papaya}              9            
## [10] {bread, milk, papaya}             10           
## [11] {egg, milk}                       11</code></pre>
<p>The following code runs the association analysis and stores the results in the object rules. Once you have this stored object, you can view it and partition it in different ways..</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="introduction.html#cb26-1" tabindex="-1"></a>trans.dat<span class="sc">@</span>itemInfo<span class="sc">$</span>labels</span></code></pre></div>
<pre><code>## [1] &quot;bread&quot;      &quot;butter&quot;     &quot;egg&quot;        &quot;milk&quot;       &quot;oat packet&quot;
## [6] &quot;papaya&quot;</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="introduction.html#cb28-1" tabindex="-1"></a><span class="co"># Create an item frequency plot for the top 3 items</span></span>
<span id="cb28-2"><a href="introduction.html#cb28-2" tabindex="-1"></a><span class="fu">itemFrequencyPlot</span>(trans.dat,<span class="at">topN=</span><span class="dv">3</span>,<span class="at">type=</span><span class="st">&quot;absolute&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/association2-1.png" width="672" /></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="introduction.html#cb29-1" tabindex="-1"></a><span class="co"># Get the rules</span></span>
<span id="cb29-2"><a href="introduction.html#cb29-2" tabindex="-1"></a>rules <span class="ot">&lt;-</span> <span class="fu">apriori</span>(trans.dat, <span class="at">parameter =</span> <span class="fu">list</span>(<span class="at">supp =</span> <span class="fl">0.1</span>, <span class="at">conf =</span> <span class="fl">0.001</span>, <span class="at">target=</span><span class="st">&quot;rules&quot;</span>))</span></code></pre></div>
<pre><code>## Apriori
## 
## Parameter specification:
##  confidence minval smax arem  aval originalSupport maxtime support minlen
##       0.001    0.1    1 none FALSE            TRUE       5     0.1      1
##  maxlen target  ext
##      10  rules TRUE
## 
## Algorithmic control:
##  filter tree heap memopt load sort verbose
##     0.1 TRUE TRUE  FALSE TRUE    2    TRUE
## 
## Absolute minimum support count: 1 
## 
## set item appearances ...[0 item(s)] done [0.00s].
## set transactions ...[6 item(s), 11 transaction(s)] done [0.00s].
## sorting and recoding items ... [6 item(s)] done [0.00s].
## creating transaction tree ... done [0.00s].
## checking subsets of size 1 2 3 done [0.00s].
## writing ... [32 rule(s)] done [0.00s].
## creating S4 object  ... done [0.00s].</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="introduction.html#cb31-1" tabindex="-1"></a>rules<span class="ot">&lt;-</span><span class="fu">sort</span>(rules, <span class="at">by=</span><span class="st">&quot;confidence&quot;</span>, <span class="at">decreasing=</span><span class="cn">TRUE</span>)</span>
<span id="cb31-2"><a href="introduction.html#cb31-2" tabindex="-1"></a></span>
<span id="cb31-3"><a href="introduction.html#cb31-3" tabindex="-1"></a><span class="fu">inspect</span>(rules[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>])</span></code></pre></div>
<pre><code>##     lhs                    rhs      support   confidence coverage  lift    
## [1] {butter}            =&gt; {bread}  0.2727273 1.0000000  0.2727273 1.571429
## [2] {bread, oat packet} =&gt; {papaya} 0.1818182 1.0000000  0.1818182 1.833333
## [3] {oat packet}        =&gt; {papaya} 0.2727273 0.7500000  0.3636364 1.375000
## [4] {papaya}            =&gt; {bread}  0.3636364 0.6666667  0.5454545 1.047619
##     count
## [1] 3    
## [2] 2    
## [3] 3    
## [4] 4</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="introduction.html#cb33-1" tabindex="-1"></a>oat.rules <span class="ot">=</span> <span class="fu">apriori</span>(trans.dat, <span class="at">parameter =</span> <span class="fu">list</span>(<span class="at">supp=</span><span class="fl">0.001</span>, <span class="at">conf=</span><span class="fl">0.8</span>),<span class="at">appearance =</span> <span class="fu">list</span>(<span class="at">default=</span><span class="st">&quot;lhs&quot;</span>,<span class="at">rhs=</span><span class="st">&quot;oat packet&quot;</span>))</span></code></pre></div>
<pre><code>## Apriori
## 
## Parameter specification:
##  confidence minval smax arem  aval originalSupport maxtime support minlen
##         0.8    0.1    1 none FALSE            TRUE       5   0.001      1
##  maxlen target  ext
##      10  rules TRUE
## 
## Algorithmic control:
##  filter tree heap memopt load sort verbose
##     0.1 TRUE TRUE  FALSE TRUE    2    TRUE
## 
## Absolute minimum support count: 0 
## 
## set item appearances ...[1 item(s)] done [0.00s].
## set transactions ...[6 item(s), 11 transaction(s)] done [0.00s].
## sorting and recoding items ... [6 item(s)] done [0.00s].
## creating transaction tree ... done [0.00s].
## checking subsets of size 1 2 3 4 done [0.00s].
## writing ... [2 rule(s)] done [0.00s].
## creating S4 object  ... done [0.00s].</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="introduction.html#cb35-1" tabindex="-1"></a>oat.rules2 <span class="ot">=</span> <span class="fu">apriori</span>(trans.dat, <span class="at">parameter =</span> <span class="fu">list</span>(<span class="at">supp=</span><span class="fl">0.001</span>, <span class="at">conf=</span><span class="fl">0.8</span>),<span class="at">appearance =</span> <span class="fu">list</span>(<span class="at">lhs=</span><span class="st">&quot;oat packet&quot;</span>, <span class="at">default=</span><span class="st">&quot;rhs&quot;</span>))</span></code></pre></div>
<pre><code>## Apriori
## 
## Parameter specification:
##  confidence minval smax arem  aval originalSupport maxtime support minlen
##         0.8    0.1    1 none FALSE            TRUE       5   0.001      1
##  maxlen target  ext
##      10  rules TRUE
## 
## Algorithmic control:
##  filter tree heap memopt load sort verbose
##     0.1 TRUE TRUE  FALSE TRUE    2    TRUE
## 
## Absolute minimum support count: 0 
## 
## set item appearances ...[1 item(s)] done [0.00s].
## set transactions ...[6 item(s), 11 transaction(s)] done [0.00s].
## sorting and recoding items ... [6 item(s)] done [0.00s].
## creating transaction tree ... done [0.00s].
## checking subsets of size 1 2 done [0.00s].
## writing ... [0 rule(s)] done [0.00s].
## creating S4 object  ... done [0.00s].</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="introduction.html#cb37-1" tabindex="-1"></a><span class="fu">plot</span>(rules)</span></code></pre></div>
<pre><code>## To reduce overplotting, jitter is added! Use jitter = 0 to prevent jitter.</code></pre>
<p><img src="bookdownproj_files/figure-html/association2-2.png" width="672" /></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="introduction.html#cb39-1" tabindex="-1"></a>top10rules <span class="ot">=</span> <span class="fu">head</span>(rules, <span class="at">n =</span> <span class="dv">10</span>, <span class="at">by =</span> <span class="st">&quot;confidence&quot;</span>)</span>
<span id="cb39-2"><a href="introduction.html#cb39-2" tabindex="-1"></a><span class="fu">plot</span>(top10rules, <span class="at">method =</span> <span class="st">&quot;graph&quot;</span>,  <span class="at">engine =</span> <span class="st">&quot;htmlwidget&quot;</span>)</span></code></pre></div>
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-da826d24bee0824e4db4" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-da826d24bee0824e4db4">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"label":["bread","butter","egg","milk","oat packet","papaya","rule 1","rule 2","rule 3","rule 4","rule 5","rule 6","rule 7","rule 8","rule 9","rule 10"],"group":[1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2],"value":[1,1,1,1,1,1,20.8,1,20.8,40.6,1,1,1,100,20.8,40.6],"color":["#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#EE6666","#EE1B1B","#EE9999","#EECBCB","#EECBCB","#EECBCB","#EEB1B1","#EED4D4","#EEDCDC","#EECBCB"],"title":["bread","butter","egg","milk","oat packet","papaya","<B>[1]<\/B><BR><B>{butter}<\/B><BR>&nbsp;&nbsp; => <B>{bread}<\/B><BR><BR>support = 0.273<BR>confidence = 1<BR>coverage = 0.273<BR>lift = 1.57<BR>count = 3<BR>order = 2<BR>id = 1","<B>[2]<\/B><BR><B>{bread,<BR>&nbsp;&nbsp;oat packet}<\/B><BR>&nbsp;&nbsp; => <B>{papaya}<\/B><BR><BR>support = 0.182<BR>confidence = 1<BR>coverage = 0.182<BR>lift = 1.83<BR>count = 2<BR>order = 3<BR>id = 2","<B>[3]<\/B><BR><B>{oat packet}<\/B><BR>&nbsp;&nbsp; => <B>{papaya}<\/B><BR><BR>support = 0.273<BR>confidence = 0.75<BR>coverage = 0.364<BR>lift = 1.38<BR>count = 3<BR>order = 2<BR>id = 3","<B>[4]<\/B><BR><B>{papaya}<\/B><BR>&nbsp;&nbsp; => <B>{bread}<\/B><BR><BR>support = 0.364<BR>confidence = 0.667<BR>coverage = 0.545<BR>lift = 1.05<BR>count = 4<BR>order = 2<BR>id = 4","<B>[5]<\/B><BR><B>{oat packet,<BR>&nbsp;&nbsp;papaya}<\/B><BR>&nbsp;&nbsp; => <B>{bread}<\/B><BR><BR>support = 0.182<BR>confidence = 0.667<BR>coverage = 0.273<BR>lift = 1.05<BR>count = 2<BR>order = 3<BR>id = 5","<B>[6]<\/B><BR><B>{milk,<BR>&nbsp;&nbsp;papaya}<\/B><BR>&nbsp;&nbsp; => <B>{bread}<\/B><BR><BR>support = 0.182<BR>confidence = 0.667<BR>coverage = 0.273<BR>lift = 1.05<BR>count = 2<BR>order = 3<BR>id = 6","<B>[7]<\/B><BR><B>{bread,<BR>&nbsp;&nbsp;milk}<\/B><BR>&nbsp;&nbsp; => <B>{papaya}<\/B><BR><BR>support = 0.182<BR>confidence = 0.667<BR>coverage = 0.273<BR>lift = 1.22<BR>count = 2<BR>order = 3<BR>id = 7","<B>[8]<\/B><BR><B>{}<\/B><BR>&nbsp;&nbsp; => <B>{bread}<\/B><BR><BR>support = 0.636<BR>confidence = 0.636<BR>coverage = 1<BR>lift = 1<BR>count = 7<BR>order = 1<BR>id = 8","<B>[9]<\/B><BR><B>{egg}<\/B><BR>&nbsp;&nbsp; => <B>{bread}<\/B><BR><BR>support = 0.273<BR>confidence = 0.6<BR>coverage = 0.455<BR>lift = 0.943<BR>count = 3<BR>order = 2<BR>id = 9","<B>[10]<\/B><BR><B>{bread}<\/B><BR>&nbsp;&nbsp; => <B>{papaya}<\/B><BR><BR>support = 0.364<BR>confidence = 0.571<BR>coverage = 0.636<BR>lift = 1.05<BR>count = 4<BR>order = 2<BR>id = 10"],"shape":["box","box","box","box","box","box","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle"],"x":[0.0756754229853067,-1,0.0243312589612872,1,-0.17717739601388,0.240477621304422,-0.542298764457738,-0.00767195720569114,0.160021597442664,-0.125107129454558,-0.184363193017098,0.575000815511772,0.602460548639572,0.339040705181898,0.0297545282451042,0.307440413642744],"y":[-0.0627878934125082,0.404643634395936,1,-0.364575069578913,-0.905811720410451,-0.524752746313351,0.210627632179079,-0.586373684653148,-1,-0.270428546243636,-0.524486736587657,-0.390304009971814,-0.22231579726086,0.312775495318878,0.553569653961739,-0.198382871107416]},"edges":{"from":[2,1,5,5,6,5,6,4,6,1,4,3,1,7,8,9,10,11,12,13,14,15,16],"to":[7,8,8,9,10,11,11,12,12,13,13,15,16,1,6,6,1,1,1,6,1,1,6],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false},"physics":{"stabilization":false},"interaction":{"hover":true,"zoomSpeed":1}},"groups":["1","2"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","highlight":{"enabled":true,"hoverNearest":true,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="decision-trees.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/sjsimmo2/DataMining-Fall/edit/master/01-Introduction.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/sjsimmo2/DataMining-Fall/blob/master/01-Introduction.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
